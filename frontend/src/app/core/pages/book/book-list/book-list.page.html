<ion-header [translucent]="true" class="ion-no-border">
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button text="Home" defaultHref="/home"></ion-back-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <div class="add-button-container" [routerLink]="['','book-show']">
    <ion-button fill="outline">
      <div class="button-inner-container">
        <ion-icon
          name="add-outline"
          style="width: 30px; height: 30px"
        ></ion-icon>
        <span>New Book</span>
      </div></ion-button
    >
  </div>
  <div class="search-bar-container">
    <ion-searchbar
      [animated]="true"
      placeholder="Search books by name"
      [clearIcon]="true"
      (ionInput)="search($any($event).detail.value)"
    ></ion-searchbar>
  </div>
  <div *ngFor="let book of books">
    <div class="item-container">
      <ion-card class="item-card">
        <ion-card-header>
          <ion-card-title class="card-container">
            <ion-icon
              class="icon"
              name="create-outline"
              (click)="openAlert(book,'update')"
            ></ion-icon>
            <ion-icon
              class="icon"
              name="trash-outline"
              id="present-alert"
              (click)="openAlert(book,'delete')"
            ></ion-icon>
          </ion-card-title>
        </ion-card-header>
        <ion-card-content class="item-name"> {{book.name}} </ion-card-content>
      </ion-card>
    </div>
  </div>
</ion-content>

<ion-alert
  #alert
  class="custom-alert"
  header="Are you sure?"
  [buttons]="alertButtons"
  (didDismiss)="handleAlertClick($any($event).detail.role)"
></ion-alert>

<!-- <ion-modal #modal trigger="open-modal">
  <ng-template>
    <ion-content>
      <ion-toolbar>
        <ion-title>Modal</ion-title>
        <ion-buttons slot="end">
          <ion-button color="light" (click)="modal.dismiss()">Close</ion-button>
        </ion-buttons>
      </ion-toolbar>
      <ion-list>
        <ion-item>
          <ion-avatar slot="start">
            <ion-img src="https://i.pravatar.cc/300?u=b"></ion-img>
          </ion-avatar>
          <ion-label>
            <h2>Connor Smith</h2>
            <p>Sales Rep</p>
          </ion-label>
        </ion-item>
        <ion-item>
          <ion-avatar slot="start">
            <ion-img src="https://i.pravatar.cc/300?u=a"></ion-img>
          </ion-avatar>
          <ion-label>
            <h2>Daniel Smith</h2>
            <p>Product Designer</p>
          </ion-label>
        </ion-item>
        <ion-item>
          <ion-avatar slot="start">
            <ion-img src="https://i.pravatar.cc/300?u=d"></ion-img>
          </ion-avatar>
          <ion-label>
            <h2>Greg Smith</h2>
            <p>Director of Operations</p>
          </ion-label>
        </ion-item>
        <ion-item>
          <ion-avatar slot="start">
            <ion-img src="https://i.pravatar.cc/300?u=e"></ion-img>
          </ion-avatar>
          <ion-label>
            <h2>Zoey Smith</h2>
            <p>CEO</p>
          </ion-label>
        </ion-item>
      </ion-list>
    </ion-content>
  </ng-template>
</ion-modal> -->

<!-- <ion-modal [keepContentsMounted]="true" #modal>
  <ng-template>
    <ion-header>
      <ion-toolbar>
        <ion-buttons slot="start">
          <ion-button (click)="dismissModal()">Cancel</ion-button>
        </ion-buttons>
        <ion-title>Update Book</ion-title>
      </ion-toolbar>
    </ion-header>
    <ion-content class="ion-padding">
      This content was mounted as soon as the modal was created.
    </ion-content>
  </ng-template>
</ion-modal> -->
